<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Projet répertoire téléphonique</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">NSI première</span>
					<span class="navbar-brand">Projet répertoire téléphonique</span>
        </div>
      </div>
    </nav>
    <div class="container act">
			<h3>Projet "Création d'un répertoire téléphonique"</h3>
			<p>
				Vous allez maintenant travailler sur votre premier projet de l'année : un répertoire téléphonique, mais avant de s'intéresser à ce projet proprement dit, il est nécessaire de voir quelques points supplémentaires :
			</p>
			<h3>L'instruction input</h3>
			<p>
				l'instruction input va permettre aux utilisateurs de saisir des données au clavier.
			</p>
			<h4>À faire vous-même 1</h4>
			<p>
				Testez ce programme à l'aide de Spyder :
			</p>
			<pre><code class='python'>
age=input("Quel est votre âge ? ")
			</code></pre>
			<p>
				Quel est le contenu de la variable age après avoir exécuté le programme ci-dessus (utilisez la console pour répondre à cette question) ? Quel est le type de la valeur référencée par la variable age ?
			</p>
			<hr />
			<p>
				Comme vous avez pu le constater, la valeur saisie par l'utilisateur sera toujours de type "string".
			</p>
			<h4>À faire vous-même 2</h4>
			<p>
				Testez ce programme à l'aide de Spyder :
			</p>
			<pre><code class='python'>
a=input("Entrez un nombre")
a=a+1
			</code></pre>
			<p>
				Comme vous l'avez remarqué, nous avons une erreur puisque la valeur référencée par la variable a est de type string, la ligne "a=a+1" puisque nous avons un entier avec 1 et une chaîne de caractères avec la variable a, séparés par un signe +,
				(le signe + correspond à une concaténation ou à une addition ?) Python n'est pas capable de gérer le problème, nous avons donc une erreur.
			</p>
			<p>
				Pour éviter ce genre de problème, il peut être nécessaire de "transformer" notre chaîne de caractères en entier :
			</p>
			<h4>À faire vous-même 2</h4>
			<p>
				Testez ce programme à l'aide de Spyder :
			</p>
			<pre><code class='python'>
a=input("Entrez un nombre")
a=int(a)
a=a+1
			</code></pre>
			<h3>Écrire et lire dans un fichier externe</h3>
			<p>Il est possible de lire ou d'écrire des données dans un fichier extérieur.</p>
			<p>La première des choses à faire est d'ouvrir notre fichier texte. Pour ce faire nous utiliserons la méthode open.
			</p>
			<pre><code class='python'>
with open('nomDuFichier', 'r') as f :
			</code></pre>
			<p>
				Nous utilisons ici une structure particulière que nous n'avons encore jamais rencontrée : le "with". Ce "with" indique que nous allons utiliser un "context manager".
				Cette notion de "context manager" n'est pas au programme de NSI, nous n'allons donc pas l'étudier en tant que tel. Vous avez juste besoin de savoir que son utilisation permet
				de manipuler des fichiers externes "proprement".
			</p>
			<p>
				La méthode open prend 2 paramètres : le nom du fichier et le mode d'ouverture du fichier :
			</p>
			<p>Il existe 3 modes d'ouverture :</p>
			<ul>
				<li>'r ' : ouverture en lecture</li>
				<li>'w' : ouverture en écriture. Le contenu du fichier est écrasé. Si le fichier n'existe pas, il est créé.</li>
				<li>'a' : ouverture en écriture en mode ajout. On écrit à la fin du fichier sans écraser l'ancien contenu du fichier. Si le fichier n'existe pas, il est créé.</li>
			</ul>
			<p>Une fois le fichier ouvert, il est possible d'écrire dedans (à l'aide de write) ou de lire son contenu (à l'aide de read).
			<h4>À faire vous-même 3</h4>
			<p>
				Étudiez et testez le programme suivant :
			</p>
			<pre><code class='python'>
nom=input('Entrez un mot')
with open('fichier.txt','a') as f :
	f.write(nom)
			</code></pre>
			<p>Le répertoire courant devrait maintenant contenir aussi un fichier « fichier.txt ». Ouvrez ce fichier (avec un éditeur de texte) et vérifiez qu'il contient bien le mot entré par l'utilisateur.
</p>
			<hr>
			<h4>À faire vous-même 4</h4>
			<p>Étudiez et testez le programme suivant :</p>
			<pre><code class='python'>
with open('fichier.txt','r') as f :
	ligne=f.read()
			</code></pre>
			<p>Que va contenir la variable ligne après l'exécution de ce programme ? Vérifiez votre réponse.</p>
			<hr>
			<h4>À faire vous-même 5</h4>
			<p>Écrivez un programme permettant à l'utilisateur de sauvegarder 5 noms dans un fichier texte (fichier.txt)</p>
			<p>Vérifiez que votre programme est correct en ouvrant le fichier «fichier.txt» à l'aide d'un éditeur de texte.</p>
			<hr>
			<p>Votre fichier texte devrait être illisible (les mots s'enchaînent sans aucun espace ou saut à la ligne). Il est tout à fait possible de « forcer »
				le saut de ligne en utilisant la suite de caractères suivante: \n (l'enchaînement des caractères \ et n entraîne un "retour chariot"). L'instruction suivante :</p>
			<pre><code class='python'>
print('hello \n world')
			</code></pre>
			<p>n'affiche pas : hello \n world</p>
			<p>mais</p>
			<p>hello</p>
			<p> world</p>
			<p>Nous avons bien un saut de ligne (un "retour chariot"). Le caractère \n n'est pas affiché.</p>
			<h4>À faire vous-même 6</h4>
			<p>Modifier votre programme du "À faire vous-même 5" afin d'avoir un nom par ligne dans le fichier texte (fichier.txt).</p>
			<hr>
			<h4>À faire vous-même 7</h4>
			<p>Voici un programme permettant de lire le fichier texte et de ranger les différents noms entrés par l'utilisateur dans une liste, testez ce programme :</p>
			<pre><code class='python'>
noms=[]
with open('fichier.txt','r') as f :
    for ligne in f:
        ligne=ligne.replace("\n","")
        noms.append(ligne)
			</code></pre>
			<p>NB : la ligne "ligne=ligne.replace("\n","")" permet d'enlever la suite de caractères \n, car même si \n n'est pas visible dans le fichier texte, elle est tout de même présente.</p>
			<hr>
			<h3>Commenter son code</h3>
			<p>Afin de rendre votre programme plus clair, il est nécessaire, dès que votre code dépasse une dizaine de lignes, d'introduire des commentaires. Bien sûr cela peut permettre à une personne qui n'a pas écrit
				le programme de comprendre ce que vous avez voulu faire, mais cela peut aussi vous permettre, quelques mois après avoir terminé d'écrire votre code, de vous "rafraîchir la mémoire".</p>
			<p>En Python, toute ligne commençant par le caractère dièse (#) sera considérée comme un commentaire par le système interpréteur/compilateur.</p>
			<p>Voici un exemple de programme commenté :</p>
			<pre><code class='python'>
# la fonction monMessage permet d'afficher un message
#****************début de la fonction monMessage******************
def monMessage(nom):
	return f"Bonjour {nom}"
#****************fin de la fonction monMessage********************
# interrogation de l'utilisateur
monNom=input("Quel est votre nom ? ")
# appel de la fonction monMessage
msg=monMessage(monNom)
			</code></pre>
			<p>Attention, dans l'exemple ci-dessus j'ai volontairement alourdi le programme avec des commentaires inutiles vu la simplicité de ce dernier.</p>
			<h3>Projet</h3>
			<p>En utilisant les connaissances acquises jusqu'à présent, vous allez écrire un programme de gestion de répertoire téléphonique.</p>
			<p>Cahier des charges</p>
			<p>Ce programme devra proposer le menu suivant à l'utilisateur :</p>
			<p>0-quitter<br>
				1-écrire dans le répertoire<br>
				2-rechercher dans le répertoire<br>
				Votre choix ?<br>
			</p>
			<p>Si le choix est 0 : Le programme sera stoppé.</p>
			<p>Si le choix est 1 :</p>
			<p>L'utilisateur devra saisir un nom ou 0 s'il veut terminer la saisie (" Nom (0 pour terminer) : ") :</p>
			<ul>
				<li>L'utilisateur entre 0 => le programme devra le renvoyer vers le menu</li>
				<li>L'utilisateur entre un nom => le programme devra lui demander de saisir le numéro de téléphone correspondant au nom.
					Une fois le numéro saisi, le programme devra lui proposer d'entrer un nouveau nom (ou 0 pour terminer)...</li>
			</ul>
			<img src="img/nsi_prem_projet1_1.png"/>
			<p><i><center>exemple de saisie d'un utilisateur (toto)</center></i></p>
			<p>Si le choix est 2 :</p>
			<p>L'utilisateur devra saisir le nom recherché (" Entrer un nom : ").</p>
			<ul>
				<li>Si le nom recherché est présent dans le répertoire, le programme devra afficher " Le numéro recherché est : " suivi du numéro de téléphone correspondant au nom saisi.</li>
				<li>Si le nom recherché est absent du répertoire, le programme devra afficher  " Inconnu ".</li>
			</ul>
			<p>L'utilisateur est ensuite redirigé vers le menu principal.</p>
			<img src="img/nsi_prem_projet1_2.png"/>
			<p><i><center>recherche des utilisateurs (toto et titi)</center></i></p>
			<p>
				Voici une démonstation en vidéo :
			</p>
			<iframe width="560" height="315" src="https://www.youtube.com/embed/itSlzuGZHe8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
			<p>Les noms et numéros de téléphone devront être stockés dans un fichier texte.</p>
			<p>Votre programme devra être composé au minimum de 3 fonctions : une fonction " menu ", une fonction " lecture " et une fonction " ecriture ".</p>
		</div>
	</body>
</html>
